# 前端开发规范

## 概述

本规范定义前端开发的约束和基础要求。根据是否使用UI库，采用不同的规范模式。

---

## 第一部分：有UI库时 - 使用约束

> 适用于：使用MUI、Ant Design、Element UI、Chakra UI等UI库的项目

### 核心原则

**UI库优先**：UI库已有完善的设计系统，我们只定义使用约束，不另建规范。

### 强制约束

#### 1. 间距系统
- ✅ **必须**使用UI库的spacing系统（如MUI的`theme.spacing()`）
- ❌ **禁止**硬编码像素值（如`margin: 17px`）
- ❌ **禁止**使用非UI库定义的间距变量

```tsx
// ✅ 正确
<Box sx={{ m: 2, p: 3 }} />  // MUI spacing
<div className="p-4 m-2" />   // Tailwind spacing

// ❌ 错误
<Box sx={{ margin: '17px', padding: '13px' }} />
```

#### 2. 响应式断点
- ✅ **必须**使用UI库的断点系统（如MUI的`xs/sm/md/lg/xl`）
- ❌ **禁止**自定义媒体查询断点值
- ❌ **禁止**硬编码屏幕宽度判断

```tsx
// ✅ 正确
<Grid size={{ xs: 12, md: 6 }} />  // MUI断点

// ❌ 错误
@media (min-width: 769px) { ... }  // 自定义断点
```

#### 3. 排版系统
- ✅ **必须**使用UI库的Typography组件或变体
- ❌ **禁止**自定义字体大小、行高、字重
- ❌ **禁止**引入UI库主题外的字体

```tsx
// ✅ 正确
<Typography variant="h1" />
<Typography variant="body1" />

// ❌ 错误
<p style={{ fontSize: '18px', lineHeight: 1.6 }} />
```

#### 4. 颜色系统
- ✅ **必须**使用UI库的主题色（primary、secondary、error等）
- ❌ **禁止**硬编码颜色值（如`#1890ff`）
- ❌ **禁止**使用UI库主题外的颜色

```tsx
// ✅ 正确
<Button color="primary" />
<Box sx={{ bgcolor: 'error.main' }} />

// ❌ 错误
<Button style={{ backgroundColor: '#1976d2' }} />
```

#### 5. 组件使用
- ✅ **必须**优先使用UI库提供的组件
- ✅ **允许**通过props/slot扩展组件
- ❌ **禁止**覆盖UI库全局样式
- ❌ **禁止**混用多个UI库

#### 6. 布局系统
- ✅ **必须**使用UI库的Grid/Flex布局组件
- ✅ **必须**使用UI库的Container控制最大宽度
- ❌ **禁止**自定义栅格系统

---

## 第二部分：无UI库时 - Fallback规范

> 适用于：纯CSS/Tailwind项目、无UI库的轻量项目、组件库开发

### 核心原则

**行业标准**：无UI库时，遵循Google/Apple/Microsoft等公司的设计系统标准。

### 基础布局规范

#### 1. 8px网格系统

**行业依据**：Google Material Design、Apple HIG、Microsoft Fluent Design均使用8px基础单位。

**间距规则**：
| 用途 | 间距值 |
|------|--------|
| 紧凑间距 | 4px、8px |
| 元素内部 | 8px、16px |
| 元素组间 | 16px、24px |
| 区块间 | 32px、48px |
| 页面边距 | 16px（移动）、32px+（桌面） |

**强制要求**：
- ✅ 所有间距使用8的倍数（4px作为紧凑场景例外）
- ❌ 禁止使用非8倍数的间距（如17px、23px）

#### 2. 响应式断点

**标准断点**：
| 名称 | 范围 | 典型布局 |
|------|------|----------|
| 移动端 | < 768px | 单列，全宽 |
| 平板端 | 768px - 1024px | 双列可选 |
| 桌面端 | > 1024px | 多列，maxWidth 1200px |

#### 3. 对齐原则

**基本要求**：
- 同组元素保持对齐一致性（全部左对齐或全部右对齐）
- 表单标签统一对齐方式
- 按钮组底部对齐
- 列表操作列位置统一

### 常见组件规范

#### 1. 表单
- 标签与输入框对齐一致
- 同组表单项间距：16px
- 不同组间距：24-32px
- 错误提示在输入框下方

#### 2. 按钮
- 高度一致（常用40px或48px）
- 按钮间距：8px或16px
- 移动端最小点击区域：44px × 44px

#### 3. 卡片
- 内边距：16-24px
- 卡片间距：16-24px

### 交互要求

#### 1. 状态反馈
- 异步操作显示loading状态
- 错误信息在相关位置显示
- 成功操作有明确反馈

#### 2. 导航
- 多级页面提供面包屑
- 当前页面不可点击
- 移动端可简化为返回按钮

#### 3. 点击区域
- 最小点击区域：44px × 44px（移动端）
- 图标按钮增加透明点击区域

---

## 适用性判断

```
项目使用UI库？
    ↓
是 → 第一部分：使用约束（遵守UI库规范 + 禁止硬编码）
    ↓
否 → 第二部分：Fallback规范（8px网格 + 标准断点）
```

---

## 行业标准来源

本规范基于以下真实标准：
- **Google Material Design 3**：8dp间距系统、响应式断点
- **Apple Human Interface Guidelines**：8pt间距、44pt点击区域
- **Microsoft Fluent Design System**：8px网格
- **W3C WCAG 2.1**：可访问性要求
